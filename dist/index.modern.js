import{useState as o,useEffect as t}from"react";import e from"blueimp-md5";const r="__use_local_storage_state_hook",n=o=>{try{const t=window.localStorage.getItem(o);if(t)return JSON.parse(t)}catch(o){console.error("error in useLocalStorageState: ",o)}},i=(o,t)=>{window.localStorage.setItem(o,JSON.stringify(t))};export default(a,_)=>{const c=`${r}__initial_value_hash__${a}`,s=`${r}__value__${a}`,[l,u]=o(!1),[f,d]=o("undefined"!=typeof window&&n(s)||(_ instanceof Function?_():_)),m=void 0===_?void 0:e(JSON.stringify(_));return t(()=>d(_),[m]),t(()=>{i(c,m)},[c,m]),t(()=>{l?i(s,f):(d(()=>n(s)||(_ instanceof Function?_():_)),u(!0))},[a,l,_,f]),[f,d]};
//# sourceMappingURL=index.modern.js.map
